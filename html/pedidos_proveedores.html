<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/estilos-pagProveedores.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <title>Panadería El Maná</title>
    <link rel="icon" type="image/png" href="../img/logo.png">

    <script>
        window.onload = function() {
            // Captura el campo de fecha
            const fechaSolicitud = document.getElementById('fecha');

            // Crea una fecha actual en formato adecuado (YYYY-MM-DDTHH:mm)
            const hoy = new Date();
            hoy.setMinutes(hoy.getMinutes() + 1); // Añade un minuto al actual para evitar fecha/hora actual
            const dia = hoy.getDate().toString().padStart(2, '0');
            const mes = (hoy.getMonth() + 1).toString().padStart(2, '0'); // Los meses empiezan desde 0
            const anio = hoy.getFullYear();
            const horas = hoy.getHours().toString().padStart(2, '0');
            const minutos = hoy.getMinutes().toString().padStart(2, '0');
            
            // Formato final para la fecha mínima
            const fechaMin = `${anio}-${mes}-${dia}T${horas}:${minutos}`;

            // Establecer la fecha mínima como la actual más un minuto
            fechaSolicitud.setAttribute("min", fechaMin);

            // Agregar la validación del formulario
            const formulario = document.querySelector("form");
            formulario.addEventListener("submit", function(event) {
                // Verificar si hay campos incompletos
                const inputs = formulario.querySelectorAll("input[required]");
                let valid = true;

                inputs.forEach(function(input) {
                    if (!input.value) {
                        valid = false;
                        alert(`Por favor, complete el campo: ${input.previousElementSibling.innerText}`);
                        input.focus();
                        event.preventDefault();
                    }
                });
            });
        };
    </script>
</head>
<body>

    <header>
        <img src="../img/panaderia-el-mana3.jpg" alt="logo de Panaderia El Maná, con una barra de pan en el medio.">
    </header>

    <nav class="barra-nav navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="PaginaPortada.html">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="registro_productos.html">Gestión de Productos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="pedidos_proveedores.html">Pedidos a Proveedores</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="gestion_ventas.html">Gestión de Ventas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="clientes_mayoristas.html">Clientes Mayoristas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="reportes.html">Reportes</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contacto.html">Contactos</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
<hr>
    <h2><u><b>Gestión a Proveedores</b></u></h2>
<hr>
    <form>
        <fieldset>
            <b>
                <u class="u">
                    <legend>Registro de pedido a Proveedor</legend>
                </u>
            </b>

            <div class="input-group">
                <label for="proveedor">Nombre del Proveedor:</label><br>
                <input type="text" id="proveedor" name="proveedor" placeholder="Ingrese el nombre del proveedor..." required>
            </div>

            <div class="input-group">
                <label for="producto">Nombre del producto/insumo:</label><br>
                <input type="text" id="producto" name="producto" placeholder="Ingrese el nombre del producto/insumo..." required>
            </div>

            <div class="input-group">
                <label for="cantidad">Cantidad de productos/insumos:</label><br>
                <input type="number" id="cantidad" name="cantidad" placeholder="Ingrese la cantidad..." min="1" max="500" step="1" required>
            </div>

            <div class="input-group">
                <label for="fecha">Fecha de solicitud:</label><br>
                <input type="datetime-local" id="fecha" name="fecha" required>
            </div>

            <div class="input-group">
                <label for="observacion">Observación adicional sobre el pedido/insumo:</label><br>
                <input type="text" id="observacion" name="observacion" placeholder="Ingrese una descripción...">
            </div>

            <br>
            
            <div class="button-group">
                <button type="submit" class="btn">Registrar</button>
                <button type="reset" class="btn btn-secondary">Cancelar</button>
            </div>
        </fieldset>
    </form>

    <footer>
        <p>&copy; 2024 Panadería El Maná. Todos los derechos reservados de autor.</p>
    </footer>
</body>
</html>
